<PaddingBoxLayout@BoxLayout>:
    padding: 30

<Menu>:
    PaddingBoxLayout:
        orientation: 'vertical'
        padding: 40
        spacing: 40

        Label:
            size_hint_y: 0.2
            font_size: 50
            text: 'Hit and Blow!'

        Button:
            size_hint_y: 0.27
            text: 'Your practice mode'
            on_press: root.choose_mode('practice')

        Button:
            size_hint_y: 0.27
            text: 'You vs Com mode'
            on_press: root.choose_mode('vs_com_mode')
        Button:
            size_hint_y: 0.27
            text: 'Com vs Com mode'

<ReadyView>:
    size_hint: None, None
    size: 350, 200
    auto_dismiss: False
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Are you Ready?'
            font_size: 30
        BoxLayout:
            orientation: 'horizontal'
            padding: 20, 20
            Button:
                text: 'Back'
                on_press: root.backButton()
            Button:
                text: 'Yes'
                on_press: root.yesButton()

<YouWin>:
    size_hint: None, None
    size: 350, 200
    auto_dismiss: False
    BoxLayout:
        orientation: 'vertical'
        padding: 30, 30
        Label:
            text: root.word
            font_size: 30

        Button:
            text: 'Back'
            font_size: 30
            on_press: root.backButton()

<Practice>:
    BoxLayout:
        orientation: 'vertical'

        GridLayout:
            rows: 3
            cols: 5
            padding: 10, 10
            spacing: 10, 10

            Button:
                text: '1'
                on_press: root.input_pressed(1, root.digit_num)
            Button:
                text: '2'
                on_press: root.input_pressed(2, root.digit_num)
            Button:
                text: '3'
                on_press: root.input_pressed(3, root.digit_num)
            Button:
                text: '4'
                on_press: root.input_pressed(4, root.digit_num)
            Button:
                text: '5'
                on_press: root.input_pressed(5, root.digit_num)
            Button:
                text: '6'
                on_press: root.input_pressed(6, root.digit_num)
            Button:
                text: '7'
                on_press: root.input_pressed(7, root.digit_num)
            Button:
                text: '8'
                on_press: root.input_pressed(8, root.digit_num)
            Button:
                text: '9'
                on_press: root.input_pressed(9, root.digit_num)
            Button:
                text: 'C'
                on_press: root.input_pressed('C')

        BoxLayout:
            orientation: 'horizontal'
            padding: 30, 30

            GridLayout:
                rows: 1
                cols: 4
                size_hint_x: 0.8
                orientation: 'horizontal'
                padding: 20
                spacing: 20

                Button:
                    text: str(root.user_attack[0])
                    on_press: root.digit_num = 0
                Button:
                    text: str(root.user_attack[1])
                    on_press: root.digit_num = 1
                Button:
                    text: str(root.user_attack[2])
                    on_press: root.digit_num = 2
                Button:
                    text: str(root.user_attack[3])
                    on_press: root.digit_num = 3

            BoxLayout:
                size_hint_x: 0.2
                orientation: 'vertical'
                spacing: 20
                Button:
                    size_hint_y: 0.8
                    text: 'Attack!'
                    on_press: root.attack()
                Button:
                    size_hint_y: 0.2
                    text: 'Back'
                    on_press: root.input_pressed('back')

        ScrollView:
            do_scroll_x: False
            do_scroll_y: True
            bar_width: 30
            Label:
                text: root.msg
                font_size: 40

                size_hint_x: 1.0
                size_hint_y: None
                text_size: self.width, None  # 内部のtextureの幅を自身の幅に合わせる。高さは固定しない(None)。
                height: self.texture_size[1]  # 自身の高さを内部のtextureの高さに合わせる

# コピペはダサいよなぁ…継承をうまく使えばどうにかできそうなんだが
<VsComMode>:
    BoxLayout:
        orientation: 'vertical'

        GridLayout:
            rows: 3
            cols: 5
            padding: 10, 10
            spacing: 10, 10

            Button:
                text: '1'
                on_press: root.input_pressed(1, root.digit_num)
            Button:
                text: '2'
                on_press: root.input_pressed(2, root.digit_num)
            Button:
                text: '3'
                on_press: root.input_pressed(3, root.digit_num)
            Button:
                text: '4'
                on_press: root.input_pressed(4, root.digit_num)
            Button:
                text: '5'
                on_press: root.input_pressed(5, root.digit_num)
            Button:
                text: '6'
                on_press: root.input_pressed(6, root.digit_num)
            Button:
                text: '7'
                on_press: root.input_pressed(7, root.digit_num)
            Button:
                text: '8'
                on_press: root.input_pressed(8, root.digit_num)
            Button:
                text: '9'
                on_press: root.input_pressed(9, root.digit_num)
            Button:
                text: 'C'
                on_press: root.input_pressed('C')

        BoxLayout:
            orientation: 'horizontal'
            padding: 30, 30

            GridLayout:
                rows: 1
                cols: 4
                size_hint_x: 0.8
                orientation: 'horizontal'
                padding: 20
                spacing: 20

                Button:
                    text: str(root.user_defense[0])
                    on_press: root.digit_num = 0
                Button:
                    text: str(root.user_defense[1])
                    on_press: root.digit_num = 1
                Button:
                    text: str(root.user_defense[2])
                    on_press: root.digit_num = 2
                Button:
                    text: str(root.user_defense[3])
                    on_press: root.digit_num = 3

            BoxLayout:
                size_hint_x: 0.2
                orientation: 'vertical'
                spacing: 20
                Button:
                    size_hint_y: 0.8
                    text: 'My num!'
                    on_press: root.decide_my_defense()
                Button:
                    size_hint_y: 0.2
                    text: 'Back'
                    on_press: root.input_pressed('back')

        ScrollView:
            do_scroll_x: False
            do_scroll_y: True
            bar_width: 30
            Label:
                text: root.msg
                font_size: 40

                size_hint_x: 1.0
                size_hint_y: None
                text_size: self.width, None  # 内部のtextureの幅を自身の幅に合わせる。高さは固定しない(None)。
                height: self.texture_size[1]  # 自身の高さを内部のtextureの高さに合わせる

